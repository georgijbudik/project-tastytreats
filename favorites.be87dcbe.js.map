{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/favoritesCards.js","src/js/api/favorites-api.js","node_modules/@parcel/runtime-js/lib/runtime-af6276a01b713a3f.js","node_modules/@parcel/runtime-js/lib/runtime-4e824f8b1d7aeaf2.js","src/favorites.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import { renderFavoriterecipes } from './api/favorites-api';\nimport fetchRecipeById from './api/recipe-info-api';\nimport SPRITE from '../images/sprite/sprite.svg';\nimport Notiflix from 'notiflix';\n\n// localStorage.clear();\n\nconst deleteBtnRef = document.querySelector('.favorites-delete-recipes-btn');\nconst likedRecipeList = document.querySelector('.favorites-recipe-list');\nconst emptyPlaceholderRef = document.querySelector('.empty-meal');\n\nconst ratingModalCloseBtn = document.querySelector('[data-rating-close]');\nconst ratingModal = document.querySelector('[data-rating-form]');\nconst backdrop = document.querySelector('.popup-backdrop');\nconst modal = document.querySelector('.modal-recipe');\nconst closeModalBtn = document.querySelector('[data-action=\"close\"]');\n\ncloseModalBtn.addEventListener('click', () => {\n  closeModalPopup();\n});\n\nratingModalCloseBtn.addEventListener('click', () => {\n  ratingModal.classList.remove('is-visible');\n});\n\nconst likedRecipesArray = JSON.parse(localStorage.getItem('liked-recipes'));\nlet uniqueLikedRecipes;\n\nif (likedRecipesArray.length !== 0) {\n  emptyPlaceholderRef.classList.add('is-hidden');\n  deleteBtnRef.classList.remove('is-hidden');\n}\n\nif (!likedRecipesArray || likedRecipesArray.length === 0) {\n  return;\n} else {\n  uniqueLikedRecipes = likedRecipesArray.filter(\n    (value, index, array) => array.indexOf(value) === index\n  );\n\n  for (const recipe of uniqueLikedRecipes) {\n    renderFavoriterecipes(recipe).then(({ data }) => {\n      createMarkup([data]);\n      createRecipePopup(data);\n    });\n  }\n}\n\ndeleteBtnRef.addEventListener('click', () => {\n  localStorage.setItem('liked-recipes', JSON.stringify([]));\n  emptyPlaceholderRef.classList.remove('is-hidden');\n  deleteBtnRef.classList.add('is-hidden');\n  likedRecipeList.innerHTML = '';\n});\n\nfunction closeModalPopup() {\n  window.removeEventListener('mousedown', outerClickHandler);\n  window.removeEventListener('keydown', escapePressHandler);\n  backdrop.classList.remove('is-visible');\n  document.body.style.overflow = 'auto';\n}\n\nfunction outerClickHandler(e) {\n  if (e.target === backdrop) {\n    closeModalPopup();\n  }\n  if (e.target === ratingModal) {\n    ratingModal.classList.remove('is-visible');\n  }\n}\n\nfunction escapePressHandler(e) {\n  if (!ratingModal.classList.contains('is-visible') && e.code === 'Escape') {\n    closeModalPopup();\n  }\n  if (ratingModal.classList.contains('is-visible') && e.code === 'Escape') {\n    ratingModal.classList.remove('is-visible');\n  }\n}\n\nfunction removeCardFromFavorite(e) {\n  uniqueLikedRecipes = uniqueLikedRecipes.filter(\n    recipe => recipe !== e.currentTarget.dataset.favorite\n  );\n  closeModalPopup();\n  localStorage.setItem('liked-recipes', JSON.stringify(uniqueLikedRecipes));\n  Notiflix.Block.standard('.body');\n  likedRecipeList.innerHTML = '';\n  for (const recipe of uniqueLikedRecipes) {\n    renderFavoriterecipes(recipe).then(({ data }) => {\n      createMarkup([data]);\n      createRecipePopup(data);\n    });\n  }\n  Notiflix.Block.remove('.body');\n}\n\nfunction createMarkup(arr) {\n  const markup = arr\n    .map(({ preview, title, description, rating, _id }) => {\n      return `<li >\n                <div class=\"icon-heart\">\n              <button class=\"heart-svg-button\" data-heart=\"${_id}\">\n              <svg height=\"22px\" id=\"icon-heart\" viewBox=\"0 0 36 32\">\n              <path class=\"svg svg-is-active\" fill=\"none\" opacity=\"0.9\" stroke=\"#f8f8f8\"  stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.9091\" d=\"M15.991 6.848c-2.666-3.117-7.113-3.956-10.451-1.101-3.341 2.854-3.811 7.625-1.188 11.001 2.182 2.806 8.781 8.724 10.944 10.64 0.243 0.214 0.364 0.321 0.505 0.364 0.057 0.017 0.123 0.028 0.191 0.028s0.133-0.010 0.195-0.029l-0.005 0.001c0.141-0.042 0.262-0.15 0.505-0.364 2.163-1.916 8.762-7.834 10.943-10.64 2.624-3.375 2.211-8.177-1.187-11.001-3.398-2.825-7.785-2.016-10.451 1.101z\"></path>\n              </svg>\n              </button>\n                </div>\n                <img\n                  src=\"${preview}\"\n                  alt=\"\"\n                />\n                <div class=\"description-rating-container\">\n                  <h3 class=\"title-cards\">${\n                    title.length > 20 ? title.slice(0, 22) + '...' : title\n                  }</h3>\n                  <p>${description}</p>\n                  <div class=\"rating\">\n                    <p class=\"number js-number\">${rating}</p>\n                    <div class=\"rating-body\">\n                    <div class=\"rating-active\"></div>\n                    <div class=\"rating-items\">\n                      <input type=\"radio\" class=\"rating-item\" value=\"1\" name=\"rating\">\n                      <input type=\"radio\" class=\"rating-item\" value=\"2\" name=\"rating\">\n                      <input type=\"radio\" class=\"rating-item\" value=\"3\" name=\"rating\">\n                      <input type=\"radio\" class=\"rating-item\" value=\"4\" name=\"rating\">\n                      <input type=\"radio\" class=\"rating-item\" value=\"5\" name=\"rating\">\n                  </div>\n                  </div>\n                    <div style=\"margin-left: auto\">\n                    <button class=\"see-recipe-button js-see-recipe\" type=\"button\" data-id=\"${_id}\" >\n                        See recipe\n                    </button>\n                    </div>\n                  </div>\n                </div>\n              </li>`;\n    })\n    .join('');\n  likedRecipeList.insertAdjacentHTML('afterbegin', markup);\n  const seeRecipeBtn = document.querySelector('.js-see-recipe');\n  const heartIcon = document.querySelector('.heart-svg-button');\n  heartIcon.addEventListener('click', removeCardFromFavorite);\n  seeRecipeBtn.addEventListener('click', e => {\n    e.currentTarget.blur();\n    backdrop.classList.add('is-visible');\n    document.body.style.overflow = 'hidden';\n    window.addEventListener('mousedown', outerClickHandler);\n    window.addEventListener('keydown', escapePressHandler);\n  });\n}\n\nfunction createRecipePopup(recipe) {\n  const modalMarkup = `\n  <div class=\"modal-recipe-name-and-img\">\n        <h2 class=\"modal-recipe-name\">${recipe.title}</h2>\n        <div class=\"modal-recipe-video-wrapper\">\n           <img class=\"modal-recipe-img\" src=\"${recipe.preview}\" alt=\"${\n    recipe.title\n  }\" style=\"background: linear-gradient(\n      0deg,\n      rgba(5, 5, 5, 0.4) 0%,\n      rgba(5, 5, 5, 0.4) 100%\n    ),\n    url('${recipe.thumb}'), lightgray -34.64px -20px / 109.993% 120%;\"/>\n<a href=\"${\n    recipe.youtube\n  }\" class=\"modal-recipe-video-youtube-button\" target=\"_blank\">\n<svg class=\"modal-recipe-video-youtube-svg\" width=\"40\" height=\"40\">\n<use href=\"${SPRITE}#icon-youtube\"></use>\n</svg>\n</a>\n        </div>\n      </div>\n\n      <div class=\"modal-recipe-info\">\n        <ul class=\"modal-recipe-info-tag-list\">\n        ${\n          recipe.tags.length === 0 || recipe.tags[0] === ''\n            ? `<li class=\"modal-recipe-info-no-tag-item\">Sorry, there are no tags for this dish</li>`\n            : recipe.tags\n                .filter(tag => tag.length > 0)\n                .map(tag => {\n                  return `<li class=\"modal-recipe-info-tag-item\">#${tag}</li>`;\n                })\n                .join('')\n        }\n        </ul>\n        <div class=\"modal-recipe-info-rating\">\n          <p class=\"modal-recipe-info-rating-points\">${recipe.rating}</p>\n          <div class=\"modal-rating-body\">\n            <div class=\"modal-rating-disabled\"></div>\n            <div class=\"modal-rating-active\"></div>\n            <div class=\"modal-rating-items\">\n              <input type=\"radio\" class=\"modal-rating-item\" value=\"1\" name=\"rating\">\n              <input type=\"radio\" class=\"modal-rating-item\" value=\"2\" name=\"rating\">\n              <input type=\"radio\" class=\"modal-rating-item\" value=\"3\" name=\"rating\">\n              <input type=\"radio\" class=\"modal-rating-item\" value=\"4\" name=\"rating\">\n              <input type=\"radio\" class=\"modal-rating-item\" value=\"5\" name=\"rating\">\n            </div>\n          </div>\n                    \n          <p class=\"modal-recipe-info-cooking-time\">${recipe.time} min</p>\n        </div>\n      </div>\n\n      <ul class=\"modal-recipe-ingredient-list\">\n      ${recipe.ingredients\n        .map(ingredient => {\n          return `\n        <li class=\"modal-recipe-ingredient-item\">\n        <p class=\"modal-recipe-ingredient-item-name\">${ingredient.name}</p>\n        <p class=\"modal-recipe-ingredient-item-quantity\">${ingredient.measure}</p>\n        </li>`;\n        })\n        .join('')}\n      </ul>\n\n      <p class=\"modal-recipe-cooking-description\">\n      ${recipe.instructions}\n      </p>\n\n      <ul class=\"modal-recipe-button-list\">\n        <li class=\"modal-recipe-button-item\">\n          <button\n          data-favorite=\"${recipe._id}\"\n          data-remove-favorite\n            type=\"button\"\n            class=\"modal-recipe-add-button modal-recipe-button\"\n          >\n              Remove from favorite\n          </button>\n        </li>\n        <li class=\"modal-recipe-button-item\">\n          <button\n            data-rating-open\n            type=\"button\"\n            class=\"modal-recipe-rating-button modal-recipe-button\"\n          >\n            Give rating\n          </button>\n        </li>\n      </ul>\n  `;\n  modal.innerHTML = modalMarkup;\n  const openRatingModalBtn = document.querySelector('[data-rating-open]');\n  openRatingModalBtn.addEventListener('click', () => {\n    window.addEventListener('mousedown', outerClickHandler);\n    window.addEventListener('keydown', escapePressHandler);\n    ratingModal.classList.add('is-visible');\n  });\n  const removeFavoriteBtnRef = document.querySelector('[data-remove-favorite]');\n  removeFavoriteBtnRef.addEventListener('click', removeCardFromFavorite);\n}\n","import axios from 'axios';\n\nexport function renderFavoriterecipes(recipe) {\n  return axios.get(\n    `https://tasty-treats-backend.p.goit.global/api/recipes/${recipe}`\n  );\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5Aif5\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"iGlSd\\\":\\\"favorites.be87dcbe.js\\\",\\\"5Aif5\\\":\\\"sprite.5b23c8c9.svg\\\",\\\"aQ52u\\\":\\\"favorites.39f6ac54.js\\\"}\"));","import './js/changeTheme';\nimport './js/mobile-menu';\nimport './js/activePage';\nimport './js/api/favorites-api';\nimport './js/favoritesCards';\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$aM96l","parcelRequire","deleteBtnRef","document","querySelector","likedRecipeList","emptyPlaceholderRef","ratingModalCloseBtn","ratingModal","backdrop","modal","addEventListener","closeModalPopup","classList","remove","likedRecipesArray","JSON","parse","localStorage","getItem","uniqueLikedRecipes","add","filter","value","index","array","indexOf","recipe","renderFavoriterecipes","then","data","createMarkup","createRecipePopup","setItem","stringify","innerHTML","window","removeEventListener","outerClickHandler","escapePressHandler","body","style","overflow","e","target","contains","code","removeCardFromFavorite","currentTarget","dataset","favorite","$parcel$interopDefault","$7Y9D8","Block","standard","recipe1","arr","markup","map","preview","title","description","rating","_id","slice","join","insertAdjacentHTML","seeRecipeBtn","blur","modalMarkup","thumb","youtube","$lok9R","tags","tag","time","ingredients","ingredient","name","measure","instructions","$2shzp","$7d85726ac5cf01ef$export$38648d1c02427e6d","default","get","module","exports","URL","resolve","import","meta","url","toString","register"],"version":3,"file":"favorites.be87dcbe.js.map"}