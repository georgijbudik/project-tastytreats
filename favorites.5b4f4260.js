function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},i={},n=r.parcelRequired7c6;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},r.parcelRequired7c6=n),n.register("bEGRl",(function(r,o){t(r.exports,"createCards",(function(){return k}));var i=n("aM96l"),s=n("c4xQB"),a=n("bjUAO");n("1CZtt"),n("lok9R");var d=n("7Y9D8"),c=n("dSs1Y"),l=n("clcKa");e(d).Confirm.init({zindex:1e5});const u=document.querySelector(".favorites-delete-recipes-btn"),f=document.querySelector(".favorites-recipe-list"),v=document.querySelector(".empty-meal"),m=document.querySelector("[data-rating-close]"),y=document.querySelector("[data-rating-form]"),p=document.querySelector(".popup-backdrop");document.querySelector('[data-action="close"]').addEventListener("click",(()=>{L()})),m.addEventListener("click",(()=>{y.classList.remove("is-visible")}));const g=JSON.parse(localStorage.getItem("liked-recipes"));let b;if(0!==g.length&&(v.classList.remove("empty-meal-is-visible"),u.classList.remove("is-hidden")),g&&0!==g.length){b=g.filter(((e,t,r)=>r.indexOf(e)===t));for(const e of b)(0,i.renderFavoriterecipes)(e).then((({data:e})=>{k([e]),(0,l.addFavoriteCategory)(e.category)}));u.addEventListener("click",(t=>{t.currentTarget.blur(),document.body.style.overflow="hidden",e(d).Confirm.show("Delete all recipes","Are you sure you want to delete all the recipes?","Yes","No",(()=>{localStorage.setItem("liked-recipes",JSON.stringify([])),v.classList.add("empty-meal-is-visible"),u.classList.add("is-hidden"),f.innerHTML="",document.body.style.overflow="auto"}),(()=>{document.body.style.overflow="auto"}))}))}function L(){window.removeEventListener("mousedown",w),window.removeEventListener("keydown",h),p.classList.remove("is-visible"),document.body.style.overflow="auto"}function w(e){e.target===p&&L(),e.target===y&&y.classList.remove("is-visible")}function h(e){y.classList.contains("is-visible")||"Escape"!==e.code||L(),y.classList.contains("is-visible")&&"Escape"===e.code&&y.classList.remove("is-visible")}function S(t){const r=t.currentTarget.dataset.heart;document.body.style.overflow="hidden",e(d).Confirm.show("Delete recipe","Are you sure you want to delete this recipe from favorites?","Yes","No",(()=>{b=b.filter((e=>e!==r)),0===b.length&&(u.classList.add("is-hidden"),v.classList.add("empty-meal-is-visible")),L(),localStorage.setItem("liked-recipes",JSON.stringify(b)),c.Loading.standard("Loading..."),f.innerHTML="";for(const e of b)(0,i.renderFavoriterecipes)(e).then((({data:e})=>{k([e])}));c.Loading.remove(),document.body.style.overflow="auto"}),(()=>{document.body.style.overflow="auto"}))}function k(t){!function(e){const t=e.map(a.createMarkup).join("");f.insertAdjacentHTML("afterbegin",t)}(t);const r=document.querySelector(".js-see-recipe"),o=document.querySelector(".heart-svg-button");o.addEventListener("click",S);o.querySelectorAll(".svg").forEach((e=>e.classList.add("svg-is-active"))),r.addEventListener("click",(t=>{(0,s.openModal)(r.dataset.id).then((()=>{const t=document.querySelector("[data-add-favorite]");t.removeEventListener("click",s.addClickHandler),t.innerHTML="Remove from favorites",t.addEventListener("click",(t=>{const r=t.currentTarget.dataset.favorite;e(d).Confirm.show("Delete recipe","Are you sure you want to delete this recipe from favorites?","Yes","No",(()=>{b=b.filter((e=>e!==r)),0===b.length&&(u.classList.add("is-hidden"),v.classList.add("empty-meal-is-visible")),L(),localStorage.setItem("liked-recipes",JSON.stringify(b)),e(d).Block.standard(".body"),f.innerHTML="";for(const e of b)(0,i.renderFavoriterecipes)(e).then((({data:e})=>{k([e])}));e(d).Block.remove(".body"),document.body.style.overflow="auto"}),(()=>{document.body.style.overflow="auto"}))}))})),t.currentTarget.blur(),p.classList.add("is-visible"),document.body.style.overflow="hidden",window.addEventListener("mousedown",w),window.addEventListener("keydown",h)}))}})),n.register("aM96l",(function(e,r){t(e.exports,"renderFavoriterecipes",(function(){return i}));var o=n("2shzp");function i(e){return o.default.get(`https://tasty-treats-backend.p.goit.global/api/recipes/${e}`)}})),n.register("lok9R",(function(e,t){e.exports=new URL(n("kyEFX").resolve("5Aif5"),import.meta.url).toString()})),n.register("clcKa",(function(e,r){t(e.exports,"addFavoriteCategory",(function(){return v}));var o=n("aM96l"),i=n("bEGRl");const s=document.querySelector(".list-of-cards"),a=document.querySelector(".js-categories"),d=document.querySelector(".js-btn-all-categories");let c="";window.innerWidth;let l=null;const u=JSON.parse(localStorage.getItem("liked-recipes"));let f;function v(e){var t;a.insertAdjacentHTML("beforeend",`<li data-name="${t=e}" class="categories-item">${t}</></li>`)}u&&0!==u.length&&(f=u.filter(((e,t,r)=>r.indexOf(e)===t)),a.addEventListener("click",(function({target:e}){if("LI"!==e.tagName)return;l&&(l.style.color="#0505054D");if(s.innerHTML="",e.style.color="#9BB537","LI"===e.tagName){c=e.dataset.name,l=e;for(const e of f)(0,o.renderFavoriterecipes)(e).then((({data:e})=>{e.category===l.dataset.name&&(0,i.createCards)([e])}))}})),d.addEventListener("click",(function(){s.innerHTML="",selectedCategoryId=null;for(const e of f)(0,o.renderFavoriterecipes)(e).then((({data:e})=>{(0,i.createCards)([e])}))})))})),n("kyEFX").register(JSON.parse('{"iGlSd":"favorites.5b4f4260.js","5Aif5":"sprite.5b23c8c9.svg","aQ52u":"favorites.d8a26571.js"}')),n("1wH5c"),n("8FnLx"),n("bTcpz"),n("7Lfud"),n("aM96l"),n("bEGRl"),n("clcKa");
//# sourceMappingURL=favorites.5b4f4260.js.map
