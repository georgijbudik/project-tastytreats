function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i.register("bEGRl",(function(t,o){var r=i("aM96l"),s=i("c4xQB"),n=i("bjUAO");i("1CZtt"),i("lok9R");var d=i("7Y9D8"),a=i("dSs1Y");e(d).Confirm.init({zindex:1e5});const l=document.querySelector(".favorites-delete-recipes-btn"),c=document.querySelector(".favorites-recipe-list"),u=document.querySelector(".empty-meal"),f=document.querySelector("[data-rating-close]"),v=document.querySelector("[data-rating-form]"),m=document.querySelector(".popup-backdrop");document.querySelector('[data-action="close"]').addEventListener("click",(()=>{b()})),f.addEventListener("click",(()=>{v.classList.remove("is-visible")}));const y=JSON.parse(localStorage.getItem("liked-recipes"));let p;if(0!==y.length&&(u.classList.remove("empty-meal-is-visible"),l.classList.remove("is-hidden")),y&&0!==y.length){p=y.filter(((e,t,o)=>o.indexOf(e)===t));for(const e of p)(0,r.renderFavoriterecipes)(e).then((({data:e})=>{h([e])}));l.addEventListener("click",(t=>{t.currentTarget.blur(),document.body.style.overflow="hidden",e(d).Confirm.show("Delete all recipes","Are you sure you want to delete all the recipes?","Yes","No",(()=>{localStorage.setItem("liked-recipes",JSON.stringify([])),u.classList.add("empty-meal-is-visible"),l.classList.add("is-hidden"),c.innerHTML="",document.body.style.overflow="auto"}),(()=>{document.body.style.overflow="auto"}))}))}function b(){window.removeEventListener("mousedown",g),window.removeEventListener("keydown",L),m.classList.remove("is-visible"),document.body.style.overflow="auto"}function g(e){e.target===m&&b(),e.target===v&&v.classList.remove("is-visible")}function L(e){v.classList.contains("is-visible")||"Escape"!==e.code||b(),v.classList.contains("is-visible")&&"Escape"===e.code&&v.classList.remove("is-visible")}function w(t){const o=t.currentTarget.dataset.heart;document.body.style.overflow="hidden",e(d).Confirm.show("Delete recipe","Are you sure you want to delete this recipe from favorites?","Yes","No",(()=>{p=p.filter((e=>e!==o)),0===p.length&&(l.classList.add("is-hidden"),u.classList.add("empty-meal-is-visible")),b(),localStorage.setItem("liked-recipes",JSON.stringify(p)),a.Loading.standard("Loading..."),c.innerHTML="";for(const e of p)(0,r.renderFavoriterecipes)(e).then((({data:e})=>{h([e])}));a.Loading.remove(),document.body.style.overflow="auto"}),(()=>{document.body.style.overflow="auto"}))}function h(t){!function(e){const t=e.map(n.createMarkup).join("");c.insertAdjacentHTML("afterbegin",t)}(t);const o=document.querySelector(".js-see-recipe"),i=document.querySelector(".heart-svg-button");i.addEventListener("click",w);i.querySelectorAll(".svg").forEach((e=>e.classList.add("svg-is-active"))),o.addEventListener("click",(t=>{(0,s.openModal)(o.dataset.id).then((()=>{const t=document.querySelector("[data-add-favorite]");t.removeEventListener("click",s.addClickHandler),t.innerHTML="Remove from favorites",t.addEventListener("click",(t=>{const o=t.currentTarget.dataset.favorite;e(d).Confirm.show("Delete recipe","Are you sure you want to delete this recipe from favorites?","Yes","No",(()=>{p=p.filter((e=>e!==o)),0===p.length&&(l.classList.add("is-hidden"),u.classList.add("empty-meal-is-visible")),b(),localStorage.setItem("liked-recipes",JSON.stringify(p)),e(d).Block.standard(".body"),c.innerHTML="";for(const e of p)(0,r.renderFavoriterecipes)(e).then((({data:e})=>{h([e])}));e(d).Block.remove(".body"),document.body.style.overflow="auto"}),(()=>{document.body.style.overflow="auto"}))}))})),t.currentTarget.blur(),m.classList.add("is-visible"),document.body.style.overflow="hidden",window.addEventListener("mousedown",g),window.addEventListener("keydown",L)}))}})),i.register("aM96l",(function(e,t){var o,r,s,n;o=e.exports,r="renderFavoriterecipes",s=function(){return a},Object.defineProperty(o,r,{get:s,set:n,enumerable:!0,configurable:!0});var d=i("2shzp");function a(e){return d.default.get(`https://tasty-treats-backend.p.goit.global/api/recipes/${e}`)}})),i.register("lok9R",(function(e,t){e.exports=new URL(i("kyEFX").resolve("5Aif5"),import.meta.url).toString()})),i("kyEFX").register(JSON.parse('{"iGlSd":"favorites.735f0f64.js","5Aif5":"sprite.5b23c8c9.svg","aQ52u":"favorites.1274461c.js"}')),i("1wH5c"),i("8FnLx"),i("bTcpz"),i("7Lfud"),i("aM96l"),i("bEGRl");
//# sourceMappingURL=favorites.735f0f64.js.map
