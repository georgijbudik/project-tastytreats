{"mappings":"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","sources":["src/js/favoritesCards.js","src/js/api/favorites-api.js","src/js/favoriteCategory.js","src/favorites.js"],"sourcesContent":["import { renderFavoriterecipes } from './api/favorites-api';\nimport { openModal, addClickHandler } from './pop-up';\nimport { createMarkup } from './createMarkupCards';\nimport Notiflix from 'notiflix';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport { addFavoriteCategory } from './favoriteCategory';\n\nNotiflix.Confirm.init({\n  zindex: 100000,\n});\n\n// localStorage.clear();\n\nconst deleteBtnRef = document.querySelector('.favorites-delete-recipes-btn');\nconst likedRecipeList = document.querySelector('.favorites-recipe-list');\nconst emptyPlaceholderRef = document.querySelector('.empty-meal');\n\nconst ratingModalCloseBtn = document.querySelector('[data-rating-close]');\nconst ratingModal = document.querySelector('[data-rating-form]');\nconst backdrop = document.querySelector('.popup-backdrop');\nconst closeModalBtn = document.querySelector('[data-action=\"close\"]');\n\nconst allCategoriesBtn = document.querySelector(\n  '.js-favourites-btn-all-categories'\n);\nconst categoriesbtnList = document.querySelector('.js-favorite-categories');\n\ncloseModalBtn.addEventListener('click', () => {\n  closeModalPopup();\n});\n\nratingModalCloseBtn.addEventListener('click', () => {\n  ratingModal.classList.remove('is-visible');\n});\nconst likedRecipesArray = JSON.parse(localStorage.getItem('liked-recipes'));\nlet uniqueLikedRecipes;\n\nif (likedRecipesArray.length !== 0) {\n  emptyPlaceholderRef.classList.remove('empty-meal-is-visible');\n  deleteBtnRef.classList.remove('is-hidden');\n}\n\nif (!likedRecipesArray || likedRecipesArray.length === 0) {\n  return;\n} else {\n  uniqueLikedRecipes = likedRecipesArray.filter(\n    (value, index, array) => array.indexOf(value) === index\n  );\n\n  for (const recipe of uniqueLikedRecipes) {\n    renderFavoriterecipes(recipe).then(({ data }) => {\n      createCards([data]);\n      addFavoriteCategory(data.category);\n\n      // createRecipePopup(data);\n    });\n  }\n}\n\ndeleteBtnRef.addEventListener('click', e => {\n  e.currentTarget.blur();\n  document.body.style.overflow = 'hidden';\n  Notiflix.Confirm.show(\n    'Delete all recipes',\n    'Are you sure you want to delete all the recipes?',\n    'Yes',\n    'No',\n    () => {\n      allCategoriesBtn.style.display = 'none';\n      categoriesbtnList.innerHTML = '';\n      localStorage.setItem('liked-recipes', JSON.stringify([]));\n      emptyPlaceholderRef.classList.add('empty-meal-is-visible');\n      deleteBtnRef.classList.add('is-hidden');\n      likedRecipeList.innerHTML = '';\n      document.body.style.overflow = 'auto';\n    },\n    () => {\n      document.body.style.overflow = 'auto';\n    }\n  );\n});\n\nfunction closeModalPopup() {\n  window.removeEventListener('mousedown', outerClickHandler);\n  window.removeEventListener('keydown', escapePressHandler);\n  backdrop.classList.remove('is-visible');\n  document.body.style.overflow = 'auto';\n}\n\nfunction outerClickHandler(e) {\n  if (e.target === backdrop) {\n    closeModalPopup();\n  }\n  if (e.target === ratingModal) {\n    ratingModal.classList.remove('is-visible');\n  }\n}\n\nfunction escapePressHandler(e) {\n  if (!ratingModal.classList.contains('is-visible') && e.code === 'Escape') {\n    closeModalPopup();\n  }\n  if (ratingModal.classList.contains('is-visible') && e.code === 'Escape') {\n    ratingModal.classList.remove('is-visible');\n  }\n}\n\nfunction removeCardFromFavorite(e) {\n  const cardToDelete = e.currentTarget.dataset.heart;\n  document.body.style.overflow = 'hidden';\n  Notiflix.Confirm.show(\n    'Delete recipe',\n    'Are you sure you want to delete this recipe from favorites?',\n    'Yes',\n    'No',\n    () => {\n      uniqueLikedRecipes = uniqueLikedRecipes.filter(\n        recipe => recipe !== cardToDelete\n      );\n      if (uniqueLikedRecipes.length === 0) {\n        allCategoriesBtn.style.display = 'none';\n        categoriesbtnList.innerHTML = '';\n        deleteBtnRef.classList.add('is-hidden');\n        emptyPlaceholderRef.classList.add('empty-meal-is-visible');\n      }\n      closeModalPopup();\n      localStorage.setItem('liked-recipes', JSON.stringify(uniqueLikedRecipes));\n      likedRecipeList.innerHTML = '';\n      for (const recipe of uniqueLikedRecipes) {\n        renderFavoriterecipes(recipe).then(({ data }) => {\n          createCards([data]);\n        });\n      }\n\n      document.body.style.overflow = 'auto';\n    },\n    () => {\n      document.body.style.overflow = 'auto';\n    }\n  );\n}\n\nfunction renderMarkup(arr) {\n  const markup = arr.map(createMarkup).join('');\n  likedRecipeList.insertAdjacentHTML('afterbegin', markup);\n}\n\nexport function createCards(arr) {\n  Loading.standard('Loading...');\n  renderMarkup(arr);\n  Loading.remove();\n  const seeRecipeBtn = document.querySelector('.js-see-recipe');\n  const heartIcon = document.querySelector('.heart-svg-button');\n  heartIcon.addEventListener('click', removeCardFromFavorite);\n  const heartSvg = heartIcon.querySelectorAll('.svg');\n  heartSvg.forEach(svg => svg.classList.add('svg-is-active'));\n  seeRecipeBtn.addEventListener('click', e => {\n    openModal(seeRecipeBtn.dataset.id).then(() => {\n      const removeBtn = document.querySelector('[data-add-favorite]');\n      removeBtn.removeEventListener('click', addClickHandler);\n      removeBtn.innerHTML = 'Remove from favorites';\n      removeBtn.addEventListener('click', e => {\n        const cardToDelete = e.currentTarget.dataset.favorite;\n        Notiflix.Confirm.show(\n          'Delete recipe',\n          'Are you sure you want to delete this recipe from favorites?',\n          'Yes',\n          'No',\n          () => {\n            uniqueLikedRecipes = uniqueLikedRecipes.filter(\n              recipe => recipe !== cardToDelete\n            );\n            if (uniqueLikedRecipes.length === 0) {\n              deleteBtnRef.classList.add('is-hidden');\n              emptyPlaceholderRef.classList.add('empty-meal-is-visible');\n            }\n            closeModalPopup();\n            localStorage.setItem(\n              'liked-recipes',\n              JSON.stringify(uniqueLikedRecipes)\n            );\n            Notiflix.Block.standard('.body');\n            likedRecipeList.innerHTML = '';\n            for (const recipe of uniqueLikedRecipes) {\n              renderFavoriterecipes(recipe).then(({ data }) => {\n                createCards([data]);\n              });\n            }\n            Notiflix.Block.remove('.body');\n            document.body.style.overflow = 'auto';\n          },\n          () => {\n            document.body.style.overflow = 'auto';\n          }\n        );\n      });\n    });\n    e.currentTarget.blur();\n    backdrop.classList.add('is-visible');\n    document.body.style.overflow = 'hidden';\n    window.addEventListener('mousedown', outerClickHandler);\n    window.addEventListener('keydown', escapePressHandler);\n  });\n}\n\n// function createRecipePopup(recipe) {\n//   const modalMarkup = renderModalByRecipe(recipe);\n//   modal.innerHTML = modalMarkup;\n//   const openRatingModalBtn = document.querySelector('[data-rating-open]');\n//   openRatingModalBtn.addEventListener('click', () => {\n//     window.addEventListener('mousedown', outerClickHandler);\n//     window.addEventListener('keydown', escapePressHandler);\n//     ratingModal.classList.add('is-visible');\n//   });\n// const removeFavoriteBtnRef = document.querySelector('[data-remove-favorite]');\n// removeFavoriteBtnRef.addEventListener('click', removeCardFromFavorite);\n// }\n","import axios from 'axios';\n\nexport function renderFavoriterecipes(recipe) {\n  return axios.get(\n    `https://tasty-treats-backend.p.goit.global/api/recipes/${recipe}`\n  );\n}\n","import { Loading } from 'notiflix';\nimport { renderFavoriterecipes } from './api/favorites-api';\nimport { createCards } from './favoritesCards';\n\n// const scrollToTheTop = document.querySelector('.scroll-to-the-top-btn');\n// const trackEl = document.querySelector('.header');\n// scrollToTheTop.addEventListener('click', () => {\n//   window.scrollTo(0, 0);\n// });\n\n// window.addEventListener('scroll', () => {\n//   if (!isElementInViewport(trackEl)) {\n//     scrollToTheTop.classList.add('is-visible');\n//   } else {\n//     scrollToTheTop.classList.remove('is-visible');\n//   }\n// });\n\nconst listOfCards = document.querySelector('.list-of-cards');\nconst favoriteCategoryEL = document.querySelector('.js-favorite-categories');\nconst allCategoriesEl = document.querySelector(\n  '.js-favourites-btn-all-categories'\n);\nlet page = 1;\nlet limit = 6;\nlet category = '';\nconst windowWidth = window.innerWidth;\nlet selectedElement = null;\nconst likedRecipesArray = JSON.parse(localStorage.getItem('liked-recipes'));\nlet uniqueLikedRecipes;\n\nexport function addFavoriteCategory(category) {\n  // Check if a category with the same data-name attribute already exists\n  const existingCategory = favoriteCategoryEL.querySelector(\n    `[data-name=\"${category}\"]`\n  );\n\n  // If the category doesn't exist, insert the markup\n  if (!existingCategory) {\n    favoriteCategoryEL.insertAdjacentHTML(\n      'beforeend',\n      createMarkupOfFavoriteCategories(category)\n    );\n  }\n}\nif (!likedRecipesArray || likedRecipesArray.length === 0) {\n  return;\n} else {\n  allCategoriesEl.style.display = 'block';\n  uniqueLikedRecipes = likedRecipesArray.filter(\n    (value, index, array) => array.indexOf(value) === index\n  );\n}\n\nfavoriteCategoryEL.addEventListener('click', handleSelectFavoriteCategory);\nallCategoriesEl.addEventListener('click', handleResetFavoriteCategories);\n\nexport function handleSelectFavoriteCategory({ target }) {\n  // target.blur();\n  if (target.tagName !== 'BUTTON') {\n    return;\n  }\n\n  if (selectedElement) {\n    // selectedElement.style.backgroundColor = 'inherit';\n  }\n\n  listOfCards.innerHTML = '';\n  // target.style.backgroundColor = '#9BB537';\n\n  if (target.tagName === 'BUTTON') {\n    category = target.dataset.name;\n    selectedElement = target;\n\n    for (const recipe of uniqueLikedRecipes) {\n      renderFavoriterecipes(recipe).then(({ data }) => {\n        if (data.category === selectedElement.dataset.name) {\n          createCards([data]);\n        }\n      });\n    }\n  }\n}\n\nfunction handleResetFavoriteCategories() {\n  listOfCards.innerHTML = '';\n  // selectedCategoryId = '';\n\n  for (const recipe of uniqueLikedRecipes) {\n    renderFavoriterecipes(recipe).then(({ data }) => {\n      createCards([data]);\n    });\n  }\n}\n\nfunction createMarkupOfFavoriteCategories(category) {\n  return `<li>\n  <button data-name=\"${category}\" class=\"categories-item favorites-btn\">${category}</button>\n  </li>`;\n}\n\n// function isElementInViewport(element) {\n//   const rect = element.getBoundingClientRect();\n//   return (\n//     rect.top >= 0 &&\n//     rect.left >= 0 &&\n//     rect.bottom <=\n//       (window.innerHeight || document.documentElement.clientHeight) &&\n//     rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n//   );\n// }\n","import './js/changeTheme';\nimport './js/mobile-menu';\nimport './js/modal';\nimport './js/activePage';\nimport './js/footer';\nimport './js/api/favorites-api';\nimport './js/favoritesCards';\nimport './js/favoriteCategory';\n"],"names":["$aM96l","parcelRequire","$parcel$interopDefault","$7Y9D8","Confirm","init","zindex","deleteBtnRef","document","querySelector","likedRecipeList","emptyPlaceholderRef","ratingModalCloseBtn","ratingModal","backdrop","closeModalBtn","allCategoriesBtn","categoriesbtnList","addEventListener","closeModalPopup","classList","remove","likedRecipesArray","JSON","parse","localStorage","getItem","uniqueLikedRecipes","length","filter","value","index","array","indexOf","recipe","renderFavoriterecipes","then","data","createCards","$clcKa","addFavoriteCategory","category","e","currentTarget","blur","body","style","overflow","show","display","innerHTML","setItem","stringify","add","window","removeEventListener","outerClickHandler","escapePressHandler","target","contains","code","removeCardFromFavorite","cardToDelete","dataset","heart","recipe1","arr","$dSs1Y","Loading","standard","markup","map","$bjUAO","createMarkup","join","insertAdjacentHTML","renderMarkup","seeRecipeBtn","heartIcon","querySelectorAll","forEach","svg","e1","$c4xQB","openModal","id","removeBtn","addClickHandler","favorite","Block","recipe2","$2shzp","$7d85726ac5cf01ef$export$38648d1c02427e6d","default","get","listOfCards","favoriteCategoryEL","allCategoriesEl","innerWidth","selectedElement","category1","category2","tagName","name","$bEGRl"],"version":3,"file":"favorites.8c3e77ea.js.map"}