function e(e){return e&&e.__esModule?e.default:e}function t(e,t,o,r){Object.defineProperty(e,t,{get:o,set:r,enumerable:!0,configurable:!0})}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=o.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},o.parcelRequired7c6=i),i.register("bEGRl",(function(o,r){t(o.exports,"createCards",(function(){return q}));var n=i("aM96l"),s=i("c4xQB"),a=i("bjUAO");i("1CZtt"),i("lok9R");var d=i("7Y9D8"),c=i("dSs1Y"),l=i("clcKa");e(d).Confirm.init({zindex:1e5});const u=document.querySelector(".favorites-delete-recipes-btn"),f=document.querySelector(".favorites-recipe-list"),v=document.querySelector(".empty-meal"),m=document.querySelector("[data-rating-close]"),y=document.querySelector("[data-rating-form]"),g=document.querySelector(".popup-backdrop"),p=document.querySelector('[data-action="close"]'),b=document.querySelector(".js-btn-all-categories"),L=document.querySelector(".js-favorite-categories");p.addEventListener("click",(()=>{S()})),m.addEventListener("click",(()=>{y.classList.remove("is-visible")}));const w=JSON.parse(localStorage.getItem("liked-recipes"));let h;if(0!==w.length&&(v.classList.remove("empty-meal-is-visible"),u.classList.remove("is-hidden")),w&&0!==w.length){h=w.filter(((e,t,o)=>o.indexOf(e)===t));for(const e of h)(0,n.renderFavoriterecipes)(e).then((({data:e})=>{q([e]),(0,l.addFavoriteCategory)(e.category)}));u.addEventListener("click",(t=>{t.currentTarget.blur(),document.body.style.overflow="hidden",e(d).Confirm.show("Delete all recipes","Are you sure you want to delete all the recipes?","Yes","No",(()=>{b.style.display="none",L.innerHTML="",localStorage.setItem("liked-recipes",JSON.stringify([])),v.classList.add("empty-meal-is-visible"),u.classList.add("is-hidden"),f.innerHTML="",document.body.style.overflow="auto"}),(()=>{document.body.style.overflow="auto"}))}))}function S(){window.removeEventListener("mousedown",E),window.removeEventListener("keydown",k),g.classList.remove("is-visible"),document.body.style.overflow="auto"}function E(e){e.target===g&&S(),e.target===y&&y.classList.remove("is-visible")}function k(e){y.classList.contains("is-visible")||"Escape"!==e.code||S(),y.classList.contains("is-visible")&&"Escape"===e.code&&y.classList.remove("is-visible")}function T(t){const o=t.currentTarget.dataset.heart;document.body.style.overflow="hidden",e(d).Confirm.show("Delete recipe","Are you sure you want to delete this recipe from favorites?","Yes","No",(()=>{h=h.filter((e=>e!==o)),0===h.length&&(b.style.display="none",L.innerHTML="",u.classList.add("is-hidden"),v.classList.add("empty-meal-is-visible")),S(),localStorage.setItem("liked-recipes",JSON.stringify(h)),f.innerHTML="";for(const e of h)(0,n.renderFavoriterecipes)(e).then((({data:e})=>{q([e])}));document.body.style.overflow="auto"}),(()=>{document.body.style.overflow="auto"}))}function q(t){c.Loading.standard("Loading..."),function(e){const t=e.map(a.createMarkup).join("");f.insertAdjacentHTML("afterbegin",t)}(t),c.Loading.remove();const o=document.querySelector(".js-see-recipe"),r=document.querySelector(".heart-svg-button");r.addEventListener("click",T);r.querySelectorAll(".svg").forEach((e=>e.classList.add("svg-is-active"))),o.addEventListener("click",(t=>{(0,s.openModal)(o.dataset.id).then((()=>{const t=document.querySelector("[data-add-favorite]");t.removeEventListener("click",s.addClickHandler),t.innerHTML="Remove from favorites",t.addEventListener("click",(t=>{const o=t.currentTarget.dataset.favorite;e(d).Confirm.show("Delete recipe","Are you sure you want to delete this recipe from favorites?","Yes","No",(()=>{h=h.filter((e=>e!==o)),0===h.length&&(u.classList.add("is-hidden"),v.classList.add("empty-meal-is-visible")),S(),localStorage.setItem("liked-recipes",JSON.stringify(h)),e(d).Block.standard(".body"),f.innerHTML="";for(const e of h)(0,n.renderFavoriterecipes)(e).then((({data:e})=>{q([e])}));e(d).Block.remove(".body"),document.body.style.overflow="auto"}),(()=>{document.body.style.overflow="auto"}))}))})),t.currentTarget.blur(),g.classList.add("is-visible"),document.body.style.overflow="hidden",window.addEventListener("mousedown",E),window.addEventListener("keydown",k)}))}})),i.register("aM96l",(function(e,o){t(e.exports,"renderFavoriterecipes",(function(){return n}));var r=i("2shzp");function n(e){return r.default.get(`https://tasty-treats-backend.p.goit.global/api/recipes/${e}`)}})),i.register("lok9R",(function(e,t){e.exports=new URL(i("kyEFX").resolve("5Aif5"),import.meta.url).toString()})),i.register("clcKa",(function(e,o){t(e.exports,"addFavoriteCategory",(function(){return g}));var r=i("7Y9D8"),n=i("aM96l"),s=i("bEGRl");const a=document.querySelector(".scroll-to-the-top-btn"),d=document.querySelector(".header");a.addEventListener("click",(()=>{window.scrollTo(0,0)})),window.addEventListener("scroll",(()=>{!function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}(d)?a.classList.add("is-visible"):a.classList.remove("is-visible")}));const c=document.querySelector(".list-of-cards"),l=document.querySelector(".js-favorite-categories"),u=document.querySelector(".js-btn-all-categories");let f="";window.innerWidth;let v=null;const m=JSON.parse(localStorage.getItem("liked-recipes"));let y;function g(e){var t;l.querySelector(`[data-name="${e}"]`)||l.insertAdjacentHTML("beforeend",`<li>\n  <button data-name="${t=e}" class="categories-item favorites-btn">${t}</button>\n  </li>`)}m&&0!==m.length&&(u.style.display="block",y=m.filter(((e,t,o)=>o.indexOf(e)===t)),l.addEventListener("click",(function({target:e}){if("BUTTON"!==e.tagName)return;if(c.innerHTML="","BUTTON"===e.tagName){f=e.dataset.name,v=e;for(const e of y)(0,n.renderFavoriterecipes)(e).then((({data:e})=>{e.category===v.dataset.name&&(r.Loading.standard("Loading..."),(0,s.createCards)([e]),r.Loading.remove())}))}})),u.addEventListener("click",(function(){c.innerHTML="";for(const e of y)(0,n.renderFavoriterecipes)(e).then((({data:e})=>{r.Loading.standard("Loading..."),(0,s.createCards)([e]),r.Loading.remove()}))})))})),i("kyEFX").register(JSON.parse('{"iGlSd":"favorites.044eb1bf.js","5Aif5":"sprite.5b23c8c9.svg","aQ52u":"favorites.d8a26571.js"}')),i("1wH5c"),i("8FnLx"),i("bTcpz"),i("7Lfud"),i("aM96l"),i("bEGRl"),i("clcKa");
//# sourceMappingURL=favorites.044eb1bf.js.map
